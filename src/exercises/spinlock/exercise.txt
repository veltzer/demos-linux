Implement a pthread spin lock like api using atomic operations in gcc.

The api could be gotten by "man -k pthread | grep spin"

Demonstrate the use of your spinlock.
